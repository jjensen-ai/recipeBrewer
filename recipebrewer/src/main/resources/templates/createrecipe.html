<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>    
    <link rel="stylesheet" href="/styling.css">
    <title>Create Recipe</title>
</head>
<body>
    <div class="container formStyle mx-auto mt-5">
        <form method="POST" class="row d-inline-flex justify-content-center p-3" th:action="@{/saveRecipe}" th:object="${recipe}">
            <div class="row d-inline-flex">
                <input class="form-control form-control-lg w-3" th:field="*{recipeName}" type="text" placeholder="Recipe Name">
            </div>
            <div>
                <input class="form-control form-control-lg w-3" th:field="*{instructions}" type="text" placeholder="Instructions">
            </div>
            <div>
                <input class="form-control form-control-lg w-3" th:field="*{cookTime}"type="text" placeholder="Cook Time">
            </div>
            <div id="ingredientField">
                <input class="form-control form-control-lg w-3" th:field="*{ingredient}" type="text" placeholder="Ingredient">
            </div>
            <button id="addIngredient" type="button" class="btn btn-primary">
                <i class="bi bi-plus-circle-fill"></i>Add Ingredient
            </button>
            <div>
                <button type="submit" class="btn btn-primary mx-auto">Create Recipe</button>
            </div>
        </form>
    </div>

    <script type="text/javascript">
        let ingredientField = document.getElementById('ingredientField')
        let addNewIngredient = document.getElementById('addIngredient');

        addNewIngredient.onclick = function(){
            let newInput = document.createElement('input');
            newInput.setAttribute('type', 'text');
            newInput.setAttribute('class', 'form-control form-control-lg w-3')
            ingredientField.appendChild(newInput);
        }
    </script>
</body>
</html>